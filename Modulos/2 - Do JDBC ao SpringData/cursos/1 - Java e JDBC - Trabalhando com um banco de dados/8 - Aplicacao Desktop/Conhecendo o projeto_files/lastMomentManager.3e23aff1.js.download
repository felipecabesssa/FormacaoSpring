"use strict";function lastMomentManager(t){function n(e){localStorage.setItem(t,JSON.stringify(e))}function i(e,t,r){a[e]={registryId:e,currentTime:t,lastViewedMoment:r},n(a)}var o=this,a=localStorage.getItem(t)?JSON.parse(localStorage.getItem(t)):{};return{updateRegistry:n,savePartialRegistryMoment:i,updateRegistryMomentListener:function(r,e,n){var a=setInterval(function(){var e=r(),t=e.registryId,e=e.currentTime;i(t,e,Date.now()),n-e<10&&(o.lastMomentManager.deletePartialRegistryMoment(t),clearInterval(a))},e);return a},deletePartialRegistryMoment:function(e){delete a[e],n(a)},sweepLocalStorage:function(){var t=!1;Object.keys(a).forEach(function(e){6e8<Date.now()-a[e].lastViewed&&(t=!0,delete a[e])}),t&&n()},getActualTimeForRegistry:function(e){return a[e]?a[e].currentTime:0}}}